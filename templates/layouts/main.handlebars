<html class="html">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Bio i Göteborg - Kino</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      type="text/css"
      media="screen"
      href="../../static/main.css"
    />
    <script src="../../static/menu.js" defer>

      //Fetch data from the specified file using the fetchData function
const data = await fetchData("https://plankton-app-xhkom.ondigitalocean.app/api/movies").catch((error) => console.log(error.message));

// const data = await fetchData("/static/movies.json").catch((error) => console.log(error.message));

//function to fetch data from specific file using fetch API
async function fetchData(file) {
  //Use the fetch function to make an async http request
  const response = await fetch(file);
  
  //check if response status is ok
  if (response.ok) {
    return await response.json();
  } else {
    throw new Error(`Something went wrong with the request. Error code: ${response.status}`);
  }
}
//checking the data
// console.log(data.data);

//Giving movies the value of all the movies in the data variable.
export const impData = data.data.map((obj) =>{
  return{
    id: obj.id,
    ...obj.attributes,
  }
});
console.log('Main impdata:', impData);
    </script>
  </head>
  <body>
    <header class="header">
      <div class="header__container">
        <a href="/"><img
            src="../assets/headerLogo.png"
            alt="Header Logo"
            class="header__logo"
          /></a>
        <nav class="header__topNavigation">
          {{#each menu}}
            <a href="{{this.link}}" class="header__link">{{this.lable}}</a>
          {{/each}}
        </nav>
        <img
          src="../assets/hamburgerButtonOpen.png"
          class="header__hamburgerButtonOpen"
        />
      </div>
      <nav class="header__hamburgerMenuContainer">
        <div class="header__hamburgerMenu">
          {{#each menu}}
            <a href="{{this.link}}" class="header__link">{{this.lable}}</a>
          {{/each}}
          <img
            src="../assets/hamburgerButtonClose.png"
            class="header__hamburgerCloseButton"
            alt="Hamburger menu close button"
          />
        </div>
      </nav>
    </header>
    {{{body}}}
    <footer class="footer">
      <div class="footer__container">
        <div class="footer_logoContainer">
          <a href="/"><img
              src="../assets/footerLogo.png"
              alt="Footer Logo"
              class="footer__logo"
            /></a>
        </div>
        <div class="footer__firstContainer">
          <h3 class="footer__heading">Kino Göteborg</h3>
          <p class="footer__text">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc
            laoreet, nisl id consequat tempor, erat dui rhoncus nisl, vel
            pretium lacus enim vitae ligula.
          </p>
        </div>
        <div class="footer__secondContainer">
          <h3 class="footer__heading">Navigation</h3>
          <a href="../filmer.html" class="footer__link">Filmer</a>
          <a href="../aboutus.html" class="footer__link">Om oss</a>
          <a href="../newsevents.html" class="footer__link">Nyheter</a>
        </div>
        <div class="footer__thirdContainer">
          <h3 class="footer__heading">Sociala Medier</h3>
        </div>
      </div>
    </footer>
  </body>
</html>